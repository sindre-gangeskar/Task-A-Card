<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <script src="//code.jquery.com/ui/1.13.0/jquery-ui.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    />
    <link rel="stylesheet" href="style.css" />
    <title>Task A Card</title>
  </head>

  <body>
    <div class="top-nav sticky-top position-fixed">
      <nav
        class="navbar sticky-top navbar-expand-lg navbar-light bg-light p-4 fs-5"
      >
        <a href="#">
          <svg id="brand-card-01" width="40" height="60">
            <rect
              id="card-01"
              x="0"
              y="0"
              rx="0.5rem"
              width="40"
              height="60"
            ></rect>
          </svg>

          <svg id="brand-card-02" width="40" height="60">
            <rect
              id="card-02"
              x="0"
              y="0"
              rx="0.5rem"
              width="40"
              height="60"
            ></rect>
          </svg>
        </a>

        <a href="#" class="navbar-brand fs-1 p-3">Task a card </a>

        <p class="fw-light align-baseline m-auto">
          Simple and easy to use to-do application
        </p>
        <button class="nav-item btn text-white m-3" id="add-card" onclick="createCard()">
          <i class="bi bi-card-text"></i>
          +
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          
        </div>
        
        <ul class="navbar-nav">
          <li>
            <a href="#" class="nav-link" onclick="about()" role="">About</a>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">Contact</a>
          </li>
        </ul>
      </nav>
    </div>

    <canvas id="canvas" class="container-fluid"></canvas>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="app.js"></script>
    <script>
      window.onload = createCard();
      $("document").ready(function () {
        drawCircle();
      });

      const body = document.querySelector("body");
      const canvas = document.querySelector("canvas");

      let initialBodyHeight = body.offsetHeight;
      let initialCanvasHeight = canvas.height;

      const observer = new MutationObserver((mutations) => {
        const newBodyHeight = body.offsetHeight;
        const heightDifference = newBodyHeight - initialBodyHeight;
        const newCanvasHeight = initialCanvasHeight + heightDifference;

        if (newBodyHeight > initialBodyHeight) {
          initialBodyHeight = newBodyHeight;
          initialCanvasHeight = newCanvasHeight;
          canvas.height = newCanvasHeight;
          drawCircle();
          console.log(canvas.height);
        }
      });

      const config = { childList: true, subtree: true };
      observer.observe(body, config);

      $(document).ready(function () {
        $(document).on("focus", "#card-input, #card-title-input", function () {
          $(this).popover({
            title: "Submit",
            content: "Press Enter to submit.",
            placement: "right",
            offset: "0px, 40px",
          });
          $(this).popover("show");
        });

        $(document).on("blur", "input", function () {
          $(this).popover("hide");
        });
      });
    </script>
  </body>
</html>
